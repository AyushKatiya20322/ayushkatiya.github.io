<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ayush Katiya — Robotics & AI</title>
  <meta name="description" content="Ayush Katiya — MS Robotics & Autonomous Systems (AI) @ ASU. AI/CV, UAVs, RPA, and full-stack ML. Super Mario–inspired interactive portfolio."/>
  <meta name="theme-color" content="#69c8ff">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Crect width='128' height='128' rx='20' fill='%2369c8ff'/%3E%3Ccircle cx='64' cy='64' r='28' fill='%23ffd84d' stroke='%23ff9f1a' stroke-width='8'/%3E%3C/svg%3E">

  <style>
    /* ============ THEME (Mario palette) ============ */
    :root{
      --sky:#69c8ff;            /* sky blue */
      --cloud:#ffffff;
      --hill-light:#9be26f;     /* hills */
      --hill-dark:#6dc04b;
      --brick:#c26a3a;          /* bricks/panels */
      --brick-edge:#6e2e14;
      --pipe:#1ba24a;           /* pipes */
      --pipe-dark:#127232;
      --text:#04192a;
      --text-inv:#04192a;
      --muted:#215a7f;
      --coin:#ffd84d;           /* coin yellow */
      --coin-edge:#ff9f1a;
      --accent-red:#e52521;     /* Mario cap */
      --accent-blue:#2d5af7;    /* overalls */
      --accent-green:#20bf55;   /* Luigi option in lab */
      --panel-bg:#ffefe2;       /* card bg */
      --panel-bg-dp:#ffe4cf;
      --nav-height:72px;
      --ring:0 0 0 3px rgba(45,90,247,.35);
    }
    body.dark{ /* Night mode (sky -> midnight) */
      --sky:#1b2340; --cloud:#eaf3ff; --hill-light:#2c7a36; --hill-dark:#1f5a27;
      --text:#eef7ff; --text-inv:#061018; --muted:#a6c1de;
      --panel-bg:#0c1830; --panel-bg-dp:#0a1326; --brick:#17233d; --brick-edge:#0c1426;
      --ring:0 0 0 3px rgba(255,216,77,.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      color:var(--text);
      background:
        linear-gradient(#a8e2ff 0%, var(--sky) 45%, var(--sky) 100%);
      overflow-x:hidden; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    :focus-visible{ outline:none; box-shadow:var(--ring) }
    a{ color:#0b59cf; text-decoration:none } a:hover{ text-decoration:underline }
    .container{ max-width:1100px; margin:0 auto; padding:1rem 1.1rem }
    .muted{ color:var(--muted) }
    .pixel{ font-family:"Press Start 2P", system-ui; }

    /* ============ BACKGROUND SCENE (clouds & hills) ============ */
    #clouds1,#clouds2{ position:fixed; inset:0; z-index:-3; width:100vw; height:50vh; top:0; pointer-events:none; }
    .hills{ position:fixed; left:0; right:0; bottom:0; height:26vh; z-index:-2; pointer-events:none;
      background:
        radial-gradient(60vh 18vh at 12% 100%, var(--hill-light), transparent 70%),
        radial-gradient(55vh 16vh at 40% 100%, var(--hill-dark), transparent 70%),
        radial-gradient(70vh 22vh at 78% 100%, var(--hill-light), transparent 70%),
        linear-gradient(var(--hill-dark), var(--hill-dark));
    }

    /* ============ NAVBAR ============ */
    header.navbar{ position:fixed; inset:0 0 auto; height:var(--nav-height); display:flex; align-items:center; z-index:1000;
      background:linear-gradient(to bottom, rgba(255,255,255,.9), rgba(255,255,255,.6));
      border-bottom:4px solid var(--brick-edge);
      box-shadow:0 6px 0 var(--brick); 
      backdrop-filter:saturate(1.1) blur(8px);
    }
    body.dark header.navbar{ background:linear-gradient(to bottom, rgba(12,24,48,.8), rgba(12,24,48,.55)); }
    .nav-inner{ display:flex; align-items:center; justify-content:space-between; width:100%; max-width:1100px; margin:0 auto }
    .brand{ font-family:"Press Start 2P"; font-weight:800; letter-spacing:1px; color:var(--accent-red); text-shadow:0 3px 0 #9c0f0c }
    .nav-links{ list-style:none; display:flex; gap:.4rem; padding:0; margin:0 }
    .nav-links a{ position:relative; display:inline-flex; align-items:center; gap:.4rem; padding:.6rem .7rem; border-radius:8px; font-weight:800; color:var(--text) }
    .nav-links a::after{ content:""; position:absolute; left:6px; right:6px; bottom:6px; height:6px; border-radius:2px;
      background:linear-gradient(90deg,var(--coin-edge),#fff,var(--coin-edge)); box-shadow:0 0 8px #0000001a, 0 0 12px var(--coin)66;
      transform:scaleX(0); transform-origin:left; transition:transform .25s cubic-bezier(.2,.95,.2,1);
    }
    .nav-links a:hover::after, .nav-links a.active::after{ transform:scaleX(1) }
    .controls{ display:flex; align-items:center; gap:.45rem }
    .chip-btn{ display:inline-flex; align-items:center; gap:.45rem; padding:.45rem .6rem; border:3px solid #00000022; border-radius:10px;
      background:#fff8; color:var(--text); font-weight:800; cursor:pointer; box-shadow:0 3px 0 #00000022; }
    .chip-btn:active{ transform:translateY(2px); box-shadow:0 1px 0 #00000022; }
    .menu-btn{ display:none }

    /* coin box */
    .coinbox{ display:inline-flex; align-items:center; gap:.4rem; padding:.35rem .5rem; border-radius:10px; background:#fff9; border:3px solid #00000022; box-shadow:0 3px 0 #00000022; font-weight:900 }
    .coin{ width:16px; height:16px; border-radius:50%; background:radial-gradient(circle at 35% 35%, #fff 0, #fff 18%, var(--coin) 19% 60%, #e6b83f 61% 100%);
      outline:3px solid var(--coin-edge) }

    /* ============ HERO ============ */
    .hero{ min-height:calc(100vh - var(--nav-height)); display:grid; place-items:center; text-align:center; padding:calc(var(--nav-height) + 42px) 1rem 4rem; }
    .holo-frame{ position:relative; max-width:980px; margin:0 auto; padding:1.2rem 1rem .9rem; border-radius:14px; 
      background:var(--panel-bg); border:4px solid var(--brick-edge); box-shadow:0 8px 0 var(--brick);
    }
    .profile{ width:148px; height:148px; border-radius:50%; object-fit:cover; margin:0 auto 14px; border:6px solid var(--accent-blue); box-shadow:0 6px 0 #183789; background:#fff }
    .holo-header{ font-family:"Press Start 2P"; letter-spacing:1px; margin:0 0 8px; font-size:2rem; color:#0f254f }
    .tagline{ color:#178a52; font-weight:800; letter-spacing:.5px; margin-bottom:8px; min-height:22px }
    .lead{ color:var(--muted); max-width:760px; margin:0 auto 12px }
    .cta{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:10px }
    .btn{ appearance:none; border:0; cursor:pointer; font-weight:900; letter-spacing:.3px; text-decoration:none; padding:.8rem 1rem; border-radius:10px;
      background:linear-gradient(#ffd84d, #f3b72a); color:#3a2300; display:inline-flex; gap:.5rem; align-items:center; 
      box-shadow:0 6px 0 #b07300; border:3px solid #00000022; }
    .btn:hover{ transform:translateY(-2px) }
    .btn:active{ transform:translateY(2px); box-shadow:0 2px 0 #b07300 }
    .btn.alt{ background:linear-gradient(#fff,#e9eef9); color:#1a2537; box-shadow:0 6px 0 #aeb7c9 }

    /* ============ PANELS / SECTIONS ============ */
    main{ margin-top:18px }
    section{ padding:48px 0 }
    body.animate section{ opacity:0; transform:translateY(22px); transition:opacity .7s ease, transform .7s ease }
    body.animate section.visible{ opacity:1; transform:none }
    .panel{ background:var(--panel-bg); border:4px solid var(--brick-edge); border-radius:14px; padding:1.2rem; box-shadow:0 8px 0 var(--brick) }
    .section-title{ text-align:center; margin-bottom:22px }
    .section-title h2{ font-family:"Press Start 2P"; margin:0 0 6px; letter-spacing:1px; color:#0f254f }
    .underline{ height:10px; width:190px; margin:6px auto 0; border-radius:3px;
      background:repeating-linear-gradient(90deg, #d68b52 0 16px, #aa5c2f 16px 32px); box-shadow:0 5px 0 #6e2e14 }

    .two-col{ display:grid; grid-template-columns:1fr 320px; gap:20px; align-items:start }
    @media (max-width:1000px){ .two-col{ grid-template-columns:1fr } }
    .info-card{ background:var(--panel-bg-dp); border:4px solid var(--brick-edge); border-radius:12px; padding:14px; box-shadow:0 6px 0 var(--brick) }
    .info-row{ display:flex; gap:10px; align-items:flex-start; margin-bottom:10px }
    .info-label{ min-width:110px; font-weight:800; color:#4e2a12 }
    .info-row > :nth-child(2){ min-width:0; flex:1 1 auto; }

    .timeline{ border-left:6px solid var(--pipe); padding-left:16px }
    .timeline-item{ margin-bottom:18px }
    .timeline-item h3{ margin:0 0 6px; font-size:1.05rem }
    .timeline-item small{ display:block; color:var(--muted); margin-bottom:6px }

    .grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(260px,1fr)); gap:14px }
    .card{ position:relative; overflow:hidden; background:var(--panel-bg-dp); border:4px solid var(--brick-edge); border-radius:12px; padding:12px; display:flex; flex-direction:column; min-width:0; box-shadow:0 6px 0 var(--brick) }
    .card:hover{ transform:translateY(-4px); }
    .card .thumb{ height:150px; width:100%; border-radius:8px; object-fit:cover; margin-bottom:12px; background:#cfe6ff; border:3px solid #00000014 }
    .card h3{ margin:0 0 6px; font-weight:800 }
    .card p{ flex:1; color:var(--muted); margin:0 0 8px }
    .card .meta{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; color:var(--muted) }
    .meta a{ text-decoration:none }

    .filters{ display:flex; flex-wrap:wrap; gap:.5rem; justify-content:center; margin:-4px 0 18px }
    .filter-btn{ border:3px solid #00000022; background:#fff; color:#1a2537; padding:.45rem .7rem; border-radius:8px; font-weight:800; cursor:pointer; box-shadow:0 4px 0 #b7c0d1 }
    .filter-btn.active{ background:linear-gradient(#ffd84d,#f3b72a); color:#3a2300; box-shadow:0 4px 0 #b07300 }

    .skills{ display:flex; flex-wrap:wrap; gap:8px }
    .skill,.chip{ display:inline-flex; align-items:center; white-space:nowrap; line-height:1; padding:.5rem .8rem; border-radius:999px; background:#fff; color:#193253; border:3px solid #00000022; font-weight:900; box-shadow:0 4px 0 #b7c0d1 }
    .skill:hover{ transform:translateY(-2px) }

    .counter{ text-align:center; min-width:160px; border:4px solid var(--brick-edge); border-radius:12px; padding:10px; background:var(--panel-bg-dp); box-shadow:0 6px 0 var(--brick) }
    .counter .num{ font-size:1.6rem; font-weight:900 }

    .scroll-progress{ position:fixed; top:0; left:0; height:6px; width:0; z-index:1200; background:linear-gradient(90deg, var(--accent-blue), var(--coin)); box-shadow:0 0 10px #fff8; pointer-events:none }
    .back-top{ position:fixed; right:18px; bottom:18px; background:linear-gradient(#ffd84d,#f3b72a); border-radius:10px; padding:10px; color:#3a2300; box-shadow:0 6px 0 #b07300; border:3px solid #00000022; display:none; z-index:1100; cursor:pointer }

    @media (max-width:900px){ .menu-btn{ display:inline-flex } .nav-links{ display:none } }
    @media (max-width:600px){ .grid{ grid-template-columns:1fr } .card .thumb{ height:120px } .holo-header{ font-size:1.6rem } }

    /* ============ INTRO OVERLAY (Course Start) ============ */
    #introOverlay{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:linear-gradient(#0006,#0008); z-index:2000 }
    #introOverlay.active{ display:flex }
    .course-card{ background:#000; color:#fff; border:6px solid #fff; border-radius:12px; padding:22px; text-align:center; width:min(620px,92vw); }
    .course-card h1{ font-family:"Press Start 2P"; letter-spacing:1px; margin:0 0 12px; font-size:1.25rem }
    .course-card p{ font-family:"Press Start 2P"; font-size:.8rem; margin:.4rem 0; color:#cfe6ff }
    .course-actions{ margin-top:12px; display:flex; justify-content:center; gap:10px }

    /* COMMAND PALETTE */
    #palette{ position:fixed; inset:0; display:none; align-items:flex-start; justify-content:center; background:rgba(3,6,12,.55); backdrop-filter:blur(6px); z-index:2100 }
    #palette.show{ display:flex }
    .pal-wrap{ width:min(720px,94vw); margin-top:12vh; background:var(--panel-bg); border:4px solid var(--brick-edge); border-radius:14px; box-shadow:0 10px 0 var(--brick) }
    .pal-head{ display:flex; align-items:center; gap:.6rem; padding:.7rem .8rem; border-bottom:4px solid var(--brick-edge) }
    .pal-head input{ flex:1; background:#fff; color:#09182c; border:3px solid #00000022; border-radius:8px; padding:.6rem .7rem }
    .pal-body{ max-height:54vh; overflow:auto }
    .pal-item{ padding:.6rem .8rem; border-bottom:3px solid #00000012; cursor:pointer; display:flex; align-items:center; gap:.6rem }
    .pal-item[aria-selected="true"]{ background:#ffeabf; outline:3px solid var(--coin) }

    /* Theme Lab (Power-Up Lab) */
    .lab{ position:fixed; right:12px; top:calc(var(--nav-height) + 12px); z-index:1201; display:none; pointer-events:none }
    .lab.show{ display:block }
    .lab .card{ padding:12px; width:300px; pointer-events:auto; background:var(--panel-bg); border:4px solid var(--brick-edge); border-radius:12px; box-shadow:0 8px 0 var(--brick) }
    .lab .row{ display:flex; gap:8px; align-items:center; margin:.25rem 0 }
    .lab .sw{ flex:1; display:flex; gap:6px }
    .lab .sw button{ flex:1; padding:.5rem 0; border-radius:8px; border:3px solid #00000022; background:#fff; color:#04192a; cursor:pointer; font-weight:900; box-shadow:0 4px 0 #b7c0d1 }
    .lab .row small{ color:var(--muted) }

    /* Warp (nav transition) */
    #warp{ position:fixed; inset:0; pointer-events:none; z-index:1500; opacity:0 }
    #warp.active{ animation:warp .6s ease }
    @keyframes warp{
      0%{ opacity:0 }
      20%{ opacity:1; background:
        repeating-linear-gradient(90deg, #0c0 0 16px, #090 16px 32px),
        repeating-linear-gradient(0deg, #0c0 0 14px, #090 14px 28px);
        transform:scale(1.05);
      }
      100%{ opacity:0; transform:scale(1) }
    }

    /* Click-through safety */
    #introOverlay:not(.active), #palette:not(.show){ display:none !important; }
  </style>

  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Person",
    "name":"Ayush Katiya",
    "email":"mailto:ayushkatiya@gmail.com",
    "jobTitle":"AI Researcher / Robotics Engineer",
    "url":"https://ayushkatiya20322.github.io",
    "sameAs":["https://www.linkedin.com/in/ayushkatiya","https://github.com/AyushKatiya20322"]
  }
  </script>
</head>
<body>
  <!-- Scene -->
  <canvas id="clouds1"></canvas>
  <canvas id="clouds2"></canvas>
  <div class="hills" aria-hidden="true"></div>
  <div id="warp" aria-hidden="true"></div>
  <div class="scroll-progress" id="scrollProgress"></div>

  <!-- NAVBAR -->
  <header class="navbar" role="banner">
    <div class="nav-inner container" role="navigation" aria-label="Main navigation">
      <div class="brand">AYUSH <span class="pixel">KATIYA</span></div>

      <ul class="nav-links" id="navLinks">
        <li><a class="nav-link" href="#about">About</a></li>
        <li><a class="nav-link" href="#now">Now</a></li>
        <li><a class="nav-link" href="#experience">Experience</a></li>
        <li><a class="nav-link" href="#projects">Projects</a></li>
        <li><a class="nav-link" href="#education">Education</a></li>
        <li><a class="nav-link" href="#skills">Skills</a></li>
        <li><a class="nav-link" href="#certifications">Certs</a></li>
        <li><a class="nav-link" href="#contact">Contact</a></li>
      </ul>

      <div class="controls">
        <div class="coinbox" title="Coins">
          <span class="coin"></span><span id="coinCount">0</span>
        </div>
        <button class="chip-btn" id="playIntro" title="Course Start"><i class="fa-solid fa-flag-checkered"></i> Intro</button>
        <button class="chip-btn" id="sfxToggle" title="Sound FX"><i class="fa-solid fa-volume-xmark"></i> SFX</button>
        <button class="chip-btn" id="openLab" title="Power‑Up Lab"><i class="fa-solid fa-wrench"></i> Lab</button>
        <button class="chip-btn" id="openPalette" title="Command Palette (Ctrl/Cmd+K)"><i class="fa-solid fa-magnifying-glass"></i> K</button>
        <button class="chip-btn menu-btn" id="menuBtn" aria-expanded="false" aria-controls="mobileMenu" aria-label="Open menu"><i class="fas fa-bars"></i></button>
      </div>
    </div>

    <!-- mobile menu (pipe) -->
    <nav class="panel" id="mobileMenu" aria-hidden="true" role="menu" style="display:none; position:absolute; top:calc(var(--nav-height) + 8px); right:12px; width:260px; z-index:1202">
      <a class="nav-link" href="#about">About</a>
      <a class="nav-link" href="#now">Now (2025)</a>
      <a class="nav-link" href="#experience">Experience</a>
      <a class="nav-link" href="#projects">Projects</a>
      <a class="nav-link" href="#education">Education</a>
      <a class="nav-link" href="#skills">Skills</a>
      <a class="nav-link" href="#certifications">Certifications</a>
      <a class="nav-link" href="#contact">Contact</a>
      <a class="nav-link" href="resume.pdf" target="_blank" rel="noopener">Resume</a>
    </nav>
  </header>

  <!-- POWER-UP LAB -->
  <div class="lab" id="lab">
    <div class="card">
      <h4 style="margin:0 0 8px" class="pixel">Power‑Up Lab</h4>
      <div class="row">
        <small>Preset</small>
        <div class="sw">
          <button data-t="mario" style="background:#e52521;color:#fff">Mario</button>
          <button data-t="luigi" style="background:#20bf55;color:#fff">Luigi</button>
          <button data-t="peach" style="background:#ff7ec4;color:#3a0030">Peach</button>
        </div>
      </div>
      <div class="row">
        <small>Light/Dark</small>
        <button class="chip-btn" id="themeToggle"><i class="fa-solid fa-circle-half-stroke"></i> Toggle</button>
      </div>
      <div class="row">
        <button class="chip-btn" id="enableOffline"><i class="fa-solid fa-download"></i> Enable Offline</button>
      </div>
      <small class="muted">Settings & coins persist locally.</small>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero" aria-labelledby="hero-heading">
    <div class="holo-frame">
      <img class="profile" src="assets/profile.jpg" alt="Ayush Katiya portrait" loading="lazy" decoding="async" onerror="this.src='https://via.placeholder.com/148'">
      <h1 class="holo-header pixel" id="hero-heading">Ayush Katiya</h1>
      <div class="tagline" id="typing" aria-live="polite">AI Researcher • Robotics Engineer • ML Enthusiast</div>
      <p class="lead">Graduate Student — Robotics & Autonomous Systems (AI) at Arizona State University. I build ML-powered perception systems, robotic automation (RPA), and deploy full-stack solutions (FastAPI + React) for research & production.</p>
      <div class="cta">
        <a class="btn" href="resume.pdf" target="_blank" rel="noopener"><i class="fa-regular fa-file"></i> Download Resume</a>
        <a class="btn alt" href="https://www.linkedin.com/in/ayushkatiya" target="_blank" rel="noopener"><i class="fab fa-linkedin"></i> LinkedIn</a>
        <a class="btn alt" href="https://github.com/AyushKatiya20322" target="_blank" rel="noopener"><i class="fab fa-github"></i> GitHub</a>
      </div>
    </div>
  </section>

  <main class="container" role="main" id="main">
    <!-- ABOUT -->
    <section id="about" class="panel" aria-labelledby="about-title">
      <div class="two-col">
        <div>
          <div class="section-title">
            <h2 id="about-title" class="pixel">About</h2>
            <div class="underline"></div>
          </div>
          <p>I am an AI & Robotics professional transitioning into advanced Robotics & Autonomous Systems (MS @ ASU). My strengths lie in deep learning (CNN/RNN), computer vision, UAV navigation, RPA, and deploying ML models using FastAPI and React. I enjoy turning research into practical pipelines and collaborating across teams to deliver impact.</p>
          <div style="margin-top:14px">
            <strong>Publication</strong>
            <p class="muted small">Enhancing Food Type Recognition: A Comprehensive Study on Sequential Convolutional Neural Networks for Image Classification Accuracy.</p>
          </div>
        </div>
        <aside class="info-card" aria-label="Quick info">
          <div class="info-row"><div class="info-label">Contact</div>
            <div>
              <div>1215 E Lemon St</div>
              <div class="small muted">Phone: <a href="tel:+16238452525">+1 623-845-2525</a></div>
              <div><a href="mailto:ayushkatiya@gmail.com">ayushkatiya@gmail.com</a> <button class="chip-btn" id="copyEmail" title="Copy email"><i class="fa-solid fa-copy"></i></button></div>
            </div>
          </div>
          <div class="info-row">
            <div class="info-label">Top Skills</div>
            <div class="skills" role="list">
              <span class="skill" role="listitem">Robotics</span>
              <span class="skill" role="listitem">Robot Programming</span>
            </div>
          </div>
          <div class="info-row"><div class="info-label">Languages</div><div><div class="small muted">Hindi (Native), English (Full Professional), German (Elementary)</div></div></div>
          <div class="info-row"><div class="info-label">Links</div><div><a href="https://www.linkedin.com/in/ayushkatiya" target="_blank" rel="me noopener">LinkedIn</a> • <a href="https://github.com/AyushKatiya20322" target="_blank" rel="me noopener">GitHub</a></div></div>
        </aside>
      </div>
    </section>

    <!-- NOW -->
    <section id="now" class="panel" aria-labelledby="now-title">
      <div class="section-title">
        <h2 id="now-title" class="pixel">Now — October 2025</h2>
        <div class="underline"></div>
      </div>
      <div class="grid" role="list">
        <div class="card" role="listitem"><img class="thumb" src="https://picsum.photos/600/350?random=11" alt="" loading="lazy" decoding="async"><h3>Started MS @ ASU (Aug 2025)</h3><p>Trail-mapping coursework across autonomous navigation and perception; building foundations for research in multi-sensor fusion and ROS 2.</p></div>
        <div class="card" role="listitem"><img class="thumb" src="https://picsum.photos/600/350?random=12" alt="" loading="lazy" decoding="async"><h3>Recently</h3><p>Wrapped up a Business Analyst Internship at Finlatics (Apr–Jul 2025): data storytelling with Power BI and ML-driven insights powering product & business decisions.</p></div>
        <div class="card" role="listitem"><img class="thumb" src="https://picsum.photos/600/350?random=13" alt="" loading="lazy" decoding="async"><h3>Open to</h3><p>Research assistantships & internships (Spring/Summer 2026). Interests: VLMs for robotics, SLAM, edge AI on Jetson, and autonomous UAVs.</p></div>
      </div>
      <div style="text-align:center; margin-top:12px">
        <a class="btn alt" href="#contact"><i class="fa-regular fa-paper-plane"></i> Contact</a>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section id="experience" class="panel" aria-labelledby="exp-title">
      <div class="section-title">
        <h2 id="exp-title" class="pixel">Experience</h2>
        <div class="underline"></div>
      </div>
      <div class="timeline" aria-live="polite">
        <article class="timeline-item"><h3>Business Analyst Intern — Finlatics</h3><small>April 2025 – July 2025 (4 months)</small><p>Analyzed complex datasets using Excel & Power BI; built and deployed ML models to provide real-time insights; created interactive dashboards used by product & business teams; collaborated cross-functionally to convert analytics into action.</p></article>
        <article class="timeline-item"><h3>Data Science Intern — Finlatics</h3><small>June 2024 – August 2024 (3 months)</small><p>Implemented predictive models and data visualizations; helped productionize analytics pipelines and improve data quality for downstream ML systems.</p></article>
        <article class="timeline-item"><h3>Data Science Intern — ArtifIntel</h3><small>February 2022 – March 2022 (2 months)</small><p>Processed and cleaned large-scale datasets; supported R&D machine learning models and contributed code for preprocessing & model validation.</p></article>
        <article class="timeline-item"><h3>Graphic Designer & Multimedia Creator — Freelancer</h3><small>August 2020 – November 2022</small><p>Produced branding, marketing materials and multimedia content for 30+ clients using Adobe Photoshop, Illustrator & InDesign, improving client engagement and visual presence.</p></article>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" class="panel" aria-labelledby="projects-title">
      <div class="section-title">
        <h2 id="projects-title" class="pixel">Projects</h2>
        <div class="underline"></div>
      </div>

      <div class="filters" role="tablist" aria-label="Project filters">
        <button class="filter-btn active" data-filter="all" role="tab" aria-selected="true"><i class="fa-solid fa-star"></i> All</button>
        <button class="filter-btn" data-filter="ai" role="tab">AI/CV</button>
        <button class="filter-btn" data-filter="nlp" role="tab">NLP</button>
        <button class="filter-btn" data-filter="web" role="tab">Web</button>
        <button class="filter-btn" data-filter="rpa" role="tab">RPA</button>
      </div>

      <div class="grid" aria-live="polite" id="projectGrid">
        <!-- cards preserved from your content -->
        <article class="card" data-tags="ai,cv" data-title="Image Caption Generator (CNN + RNN)" data-img="assets/project1.png" data-github="https://github.com/AyushKatiya20322/Image-Caption-Generator" data-desc="CNN encoder + LSTM decoder; BLEU/CIDEr eval; packaged for inference.">
          <img class="thumb" src="assets/project1.png" alt="Image Caption Generator preview" loading="lazy" decoding="async" onerror="this.src='https://picsum.photos/600/350?random=1'">
          <h3>Image Caption Generator (CNN + RNN)</h3>
          <p>Generates captions describing input images using a CNN to extract features and an LSTM decoder to produce natural language captions.</p>
          <div class="meta"><a href="https://github.com/AyushKatiya20322/Image-Caption-Generator" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a><button class="btn alt quick-view">Quick View</button></div>
        </article>

        <article class="card" data-tags="web,ai" data-title="Technology Portfolio (E-Commerce)" data-img="assets/project2.png" data-github="https://github.com/AyushKatiya20322/Technology_portfolio_Major_Project_2023-2024" data-desc="React + FastAPI + Firebase; ML recommendations; RPA automation.">
          <img class="thumb" src="assets/project2.png" alt="E-Commerce project preview" loading="lazy" decoding="async" onerror="this.src='https://picsum.photos/600/350?random=2'">
          <h3>Technology_portfolio_Major_Project_2023-2024 (E-Commerce)</h3>
          <p>Full-stack e-commerce site: React.js frontend, FastAPI backend, Firebase database, ML-based product recommendations, and RPA workflows.</p>
          <div class="meta"><a href="https://github.com/AyushKatiya20322/Technology_portfolio_Major_Project_2023-2024" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a><button class="btn alt quick-view">Quick View</button></div>
        </article>

        <article class="card" data-tags="ai,cv" data-title="Plant Disease Prediction" data-img="assets/project3.png" data-github="https://github.com/AyushKatiya20322/Plant_Disease_Prediction_Project" data-desc="CNN classifier on Kaggle datasets; FastAPI deploy; React UI.">
          <img class="thumb" src="assets/project3.png" alt="Plant Disease Prediction preview" loading="lazy" decoding="async" onerror="this.src='https://picsum.photos/600/350?random=3'">
          <h3>Plant Disease Prediction</h3>
          <p>CNN model to classify plant diseases. Deployed using FastAPI and integrated into a React frontend for real-time inference.</p>
          <div class="meta"><a href="https://github.com/AyushKatiya20322/Plant_Disease_Prediction_Project" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a><button class="btn alt quick-view">Quick View</button></div>
        </article>

        <article class="card" data-tags="nlp,ai" data-title="Text-Data-Processing (RNN)" data-img="assets/project4.png" data-github="https://github.com/AyushKatiya20322/Text-Data-Processing_DeepLearning_RNN" data-desc="Sequence modeling & sentiment analysis with RNNs.">
          <img class="thumb" src="assets/project4.png" alt="Text Data Processing preview" loading="lazy" decoding="async" onerror="this.src='https://picsum.photos/600/350?random=4'">
          <h3>Text-Data-Processing_DeepLearning_RNN</h3>
          <p>RNN-based pipeline for extracting information and performing sentiment analysis on text data.</p>
          <div class="meta"><a href="https://github.com/AyushKatiya20322/Text-Data-Processing_DeepLearning_RNN" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a><button class="btn alt quick-view">Quick View</button></div>
        </article>

        <article class="card" data-tags="rpa,web" data-title="Customer Relationship Management (RPA)" data-img="assets/project5.png" data-github="https://github.com/AyushKatiya20322/CustomerRelationshipManagement" data-desc="UiPath + sentiment analysis + MS DB + email reporting.">
          <img class="thumb" src="assets/project5.png" alt="CRM RPA preview" loading="lazy" decoding="async" onerror="this.src='https://picsum.photos/600/350?random=5'">
          <h3>Customer Relationship Management (RPA)</h3>
          <p>UiPath pipeline that scrapes e-commerce reviews, runs sentiment analysis, stores results, and emails consolidated reports.</p>
          <div class="meta"><a href="https://github.com/AyushKatiya20322/CustomerRelationshipManagement" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a><button class="btn alt quick-view">Quick View</button></div>
        </article>

        <article class="card" data-tags="rpa" data-title="Botathon Prototype (Runner-Up)" data-img="assets/project6.png" data-github="https://github.com/AyushKatiya20322/BotathonPrototype" data-desc="Excel automation bot; competition runner-up.">
          <img class="thumb" src="assets/project6.png" alt="Botathon prototype preview" loading="lazy" decoding="async" onerror="this.src='https://picsum.photos/600/350?random=6'">
          <h3>Botathon Prototype (Runner-Up)</h3>
          <p>Automation bot for Excel tasks that reads sheets, transforms data, applies logic and emails results.</p>
          <div class="meta"><a href="https://github.com/AyushKatiya20322/BotathonPrototype" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a><button class="btn alt quick-view">Quick View</button></div>
        </article>

        <article class="card" data-tags="rpa,web" data-title="Traveller’s Guide" data-img="assets/project7.png" data-github="https://github.com/AyushKatiya20322/TravellersGuide" data-desc="RPA assistant to rank flights/hotels across sites.">
          <img class="thumb" src="assets/project7.png" alt="Traveller's guide preview" loading="lazy" decoding="async" onerror="this.src='https://picsum.photos/600/350?random=7'">
          <h3>Traveller’s Guide</h3>
          <p>Scrapes multiple travel sites, compiles ranked options into spreadsheets, and helps shortlist travel choices efficiently.</p>
          <div class="meta"><a href="https://github.com/AyushKatiya20322/TravellersGuide" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a><button class="btn alt quick-view">Quick View</button></div>
        </article>
      </div>
    </section>

    <!-- EDUCATION -->
    <section id="education" class="panel" aria-labelledby="edu-title">
      <div class="section-title">
        <h2 id="edu-title" class="pixel">Education</h2>
        <div class="underline"></div>
      </div>
      <div class="timeline">
        <article class="timeline-item"><h3>Arizona State University — MS Robotics & Autonomous Systems (AI)</h3><small>Aug 2025 – Jun 2027 (expected)</small><p class="muted small">Focus: autonomous navigation, perception, AI.</p></article>
        <article class="timeline-item"><h3>AITR, Indore — B.Tech in AI & Data Science</h3><small>Aug 2020 – Jun 2024</small><p class="muted small">CGPA: 8.07 — ML, CV, DSA, Signals.</p></article>
        <article class="timeline-item"><h3>SICA Senior Secondary School — Higher Secondary (PCM)</h3><small>Mar 2009 – Jun 2020</small></article>
      </div>
    </section>

    <!-- SKILLS -->
    <section id="skills" class="panel" aria-labelledby="skills-title">
      <div class="section-title">
        <h2 id="skills-title" class="pixel">Skills</h2>
        <div class="underline"></div>
      </div>
      <div style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center; margin-bottom:12px">
        <div class="skill"><i class="fa-solid fa-microchip"></i>&nbsp;Edge AI</div>
        <div class="skill"><i class="fa-solid fa-cubes"></i>&nbsp;ROS 2</div>
        <div class="skill"><i class="fa-solid fa-drone"></i>&nbsp;UAV Navigation</div>
        <div class="skill"><i class="fa-solid fa-layer-group"></i>&nbsp;MLOps</div>
      </div>
      <div class="skills">
        <span class="skill">Python</span><span class="skill">C++</span><span class="skill">Java</span><span class="skill">JavaScript</span>
        <span class="skill">React.js</span><span class="skill">FastAPI</span><span class="skill">TensorFlow</span><span class="skill">PyTorch</span>
        <span class="skill">ROS</span><span class="skill">Gazebo</span><span class="skill">Firebase</span><span class="skill">MongoDB</span><span class="skill">SQL</span>
        <span class="skill">Power BI</span><span class="skill">UiPath (RPA)</span><span class="skill">Docker</span><span class="skill">Adobe Photoshop</span>
      </div>
      <div style="display:flex; gap:10px; justify-content:center; margin-top:14px; flex-wrap:wrap">
        <div class="counter"><div class="num" data-counter="7">7</div><div class="muted small">Projects</div></div>
        <div class="counter"><div class="num" data-counter="4">4</div><div class="muted small">Tech Stacks</div></div>
        <div class="counter"><div class="num" data-counter="3">3</div><div class="muted small">Internships</div></div>
      </div>
    </section>

    <!-- CERTIFICATIONS -->
    <section id="certifications" class="panel" aria-labelledby="cert-title">
      <div class="section-title">
        <h2 id="cert-title" class="pixel">Certifications</h2>
        <div class="underline"></div>
      </div>
      <div class="grid">
        <div class="card"><h3>MathWorks — MATLAB Certified</h3><p class="muted small">Onramp & Advanced ML</p></div>
        <div class="card"><h3>AWS — Cloud Practitioner</h3><p class="muted small">Cloud fundamentals</p></div>
        <div class="card"><h3>Palo Alto — Cybersecurity Academy</h3><p class="muted small">Networking & security basics</p></div>
        <div class="card"><h3>TCS iON — Career Edge</h3><p class="muted small">Professional readiness</p></div>
        <div class="card"><h3>Microsoft — AI Classroom Series</h3><p class="muted small">AI fundamentals</p></div>
        <div class="card"><h3>Blockchain Builder — MPSSDEGB FIIT</h3><p class="muted small">Blockchain basics</p></div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="panel" aria-labelledby="contact-title">
      <div class="section-title">
        <h2 id="contact-title" class="pixel">Contact</h2>
        <div class="underline"></div>
      </div>
      <p class="muted">Open to internships, research collaborations & full-time roles. Preferred contact: <a href="mailto:ayushkatiya@gmail.com">ayushkatiya@gmail.com</a></p>
      <div style="max-width:760px;margin:18px auto;">
        <form id="contactForm" class="panel" aria-label="Contact form">
          <input type="text" name="website" id="website" tabindex="-1" autocomplete="off" style="position:absolute; left:-9999px; opacity:0" aria-hidden="true">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
            <input name="name" type="text" placeholder="Your name" required style="padding:10px;border-radius:8px;border:3px solid #00000022;width:100%;background:#fff;color:#102237">
            <input name="email" type="email" placeholder="Your email" required style="padding:10px;border-radius:8px;border:3px solid #00000022;width:100%;background:#fff;color:#102237">
          </div>
          <textarea name="message" rows="5" placeholder="Tell me about your project or opportunity..." required style="width:100%;padding:10px;border-radius:8px;border:3px solid #00000022;margin-top:10px;background:#fff;color:#102237"></textarea>
          <div style="display:flex;gap:10px;align-items:center;justify-content:flex-end;margin-top:10px">
            <button type="submit" class="btn"><i class="fa-regular fa-paper-plane"></i> Send message</button>
            <small id="formStatus" style="color:var(--muted)" aria-live="polite"></small>
          </div>
        </form>
      </div>
      <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
        <a class="btn alt" href="mailto:ayushkatiya@gmail.com" title="Email"><i class="fa-regular fa-envelope"></i></a>
        <a class="btn alt" href="https://www.linkedin.com/in/ayushkatiya" target="_blank" rel="noopener" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
        <a class="btn alt" href="https://github.com/AyushKatiya20322" target="_blank" rel="noopener" title="GitHub"><i class="fab fa-github"></i></a>
      </div>
    </section>
  </main>

  <footer style="text-align:center; padding:32px 0; color:#114160">© <span id="y"></span> Ayush Katiya • Mario‑inspired fan theme • Built for GitHub Pages</footer>
  <a class="back-top" id="backTop" aria-label="Back to top"><i class="fas fa-chevron-up"></i></a>

  <!-- Quick View Dialog -->
  <dialog id="projectDialog" aria-labelledby="dialogTitle">
    <div style="padding:14px 16px; border-bottom:3px solid #00000022; display:flex; justify-content:space-between; align-items:center">
      <strong id="dialogTitle">Project</strong>
      <button class="chip-btn" id="dialogClose" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div style="padding:16px; background:#fff; color:#102237">
      <img id="dialogImg" src="" alt="" style="width:100%; border-radius:10px; margin-bottom:10px">
      <p id="dialogDesc" class="muted"></p>
      <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:8px">
        <a id="dialogGithub" class="btn alt" href="#" target="_blank" rel="noopener"><i class="fa-brands fa-github"></i> GitHub</a>
      </div>
    </div>
  </dialog>

  <!-- Course Start Overlay -->
  <div id="introOverlay" role="dialog" aria-modal="true" aria-label="Course start">
    <div class="course-card">
      <h1>WORLD 1‑1</h1>
      <p>AYUSH’S PORTFOLIO</p>
      <p class="muted">Use the navbar pipes to warp between sections.</p>
      <div class="course-actions">
        <button class="btn" id="startCourse"><i class="fa-solid fa-play"></i> Start</button>
        <button class="btn alt" id="skipCourse"><i class="fa-solid fa-forward"></i> Skip</button>
      </div>
    </div>
  </div>

  <!-- Command Palette -->
  <div id="palette" role="dialog" aria-modal="true" aria-label="Command palette">
    <div class="pal-wrap">
      <div class="pal-head">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input id="palInput" type="text" placeholder="Jump to section or project… (Esc to close)">
        <button class="chip-btn" id="palClose"><i class="fa-solid fa-xmark"></i></button>
      </div>
      <div class="pal-body" id="palList"></div>
    </div>
  </div>

  <script>
  // ===== Helpers =====
  const $ = s => document.querySelector(s), $$ = s => Array.from(document.querySelectorAll(s));
  const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
  $('#y').textContent = new Date().getFullYear();
  document.addEventListener('DOMContentLoaded', ()=> document.body.classList.add('animate'));

  // ===== Clouds (canvas) =====
  const layers = [
    { id:'clouds1', count:10, speed:0.2, size:[70,120], alpha:0.9 },
    { id:'clouds2', count:8,  speed:0.35, size:[90,150], alpha:0.85 }
  ];
  function makeClouds(canvas, cfg){
    if(!canvas) return;
    const ctx = canvas.getContext('2d');
    const DPR = Math.min(2, devicePixelRatio||1);
    const clouds = [];
    function resize(){
      const r=canvas.getBoundingClientRect();
      canvas.width  = Math.max(1, Math.floor(r.width*DPR));
      canvas.height = Math.max(1, Math.floor(r.height*DPR));
    }
    function blob(x,y,w,h){
      ctx.beginPath();
      ctx.ellipse(x,y,w,h,0,0,Math.PI*2);
      ctx.fill();
    }
    function init(){
      resize(); clouds.length = 0;
      for(let i=0; i<cfg.count; i++){
        clouds.push({
          x: Math.random()*canvas.width,
          y: Math.random()*canvas.height,
          w: (Math.random()*(cfg.size[1]-cfg.size[0])+cfg.size[0]) * DPR,
          h: (Math.random()*25+20) * DPR,
          sp: (Math.random()*0.5+0.5) * cfg.speed
        });
      }
    }
    function draw(){
      ctx.clearRect(0,0,canvas.width, canvas.height);
      ctx.fillStyle = `rgba(255,255,255,${cfg.alpha})`;
      clouds.forEach(c=>{
        // simple fluffy cloud (3 ellipses)
        blob(c.x, c.y, c.w*0.6, c.h*0.9);
        blob(c.x+c.w*0.35, c.y-8*DPR, c.w*0.5, c.h*0.8);
        blob(c.x+c.w*0.7, c.y, c.w*0.45, c.h*0.7);
        c.x += c.sp;
        if(c.x - c.w > canvas.width){ c.x = -c.w; c.y = Math.random()*canvas.height; }
      });
      requestAnimationFrame(draw);
    }
    addEventListener('resize', init); init(); draw();
  }
  layers.forEach(l => makeClouds(document.getElementById(l.id), l));

  // ===== Mobile menu =====
  const menuBtn=$('#menuBtn'), mobileMenu=$('#mobileMenu');
  menuBtn?.addEventListener('click',()=>{ const open=mobileMenu.style.display==='block'; mobileMenu.style.display=open?'none':'block'; mobileMenu.setAttribute('aria-hidden', String(open)); menuBtn.setAttribute('aria-expanded', String(!open)); });
  document.addEventListener('click',e=>{ if(!mobileMenu||!menuBtn) return; const within=e.target.closest('#mobileMenu')||e.target.closest('#menuBtn'); if(!within&&mobileMenu.style.display==='block'){ mobileMenu.style.display='none'; mobileMenu.setAttribute('aria-hidden','true'); menuBtn.setAttribute('aria-expanded','false'); } });

  // ===== Theme Lab (presets) =====
  const lab=$('#lab'), openLab=$('#openLab'); openLab.addEventListener('click',()=> lab.classList.toggle('show'));
  const themeToggle=$('#themeToggle');
  const applyTheme = (dark) => {
    document.body.classList.toggle('dark', dark);
    localStorage.setItem('site-theme', dark ? 'dark' : 'light');
    document.querySelector('meta[name="theme-color"]')?.setAttribute('content', dark ? '#1b2340' : '#69c8ff');
    if(sfxOn) sfxCoin();
  };
  applyTheme(localStorage.getItem('site-theme') === 'dark');
  themeToggle?.addEventListener('click', ()=> applyTheme(!document.body.classList.contains('dark')));
  // color presets (change brand accents only)
  $$('.lab .sw button').forEach(b=> b.addEventListener('click',()=>{
    const t=b.dataset.t;
    if(t==='mario'){ document.documentElement.style.setProperty('--accent-red','#e52521'); document.documentElement.style.setProperty('--accent-blue','#2d5af7'); }
    if(t==='luigi'){ document.documentElement.style.setProperty('--accent-red','#20bf55'); document.documentElement.style.setProperty('--accent-blue','#1e8dff'); }
    if(t==='peach'){ document.documentElement.style.setProperty('--accent-red','#ff7ec4'); document.documentElement.style.setProperty('--accent-blue','#ffafcc'); }
    if(sfxOn) sfxPowerUp();
  }));

  // ===== Tagline typing =====
  const typingEl=$('#typing'); const roles=["AI Researcher","Robotics Engineer","ML Enthusiast","UAV Navigation & CV"]; let ri=0, ci=0;
  function typeLoop(){ if(!typingEl) return; const r=roles[ri]; typingEl.textContent=r.slice(0,ci); ci++; if(ci<=r.length) setTimeout(typeLoop, prefersReduced?0:65); else setTimeout(eraseLoop, prefersReduced?200:1100); }
  function eraseLoop(){ if(!typingEl) return; const r=roles[ri]; typingEl.textContent=r.slice(0,ci); ci--; if(ci>=0) setTimeout(eraseLoop, prefersReduced?0:26); else { ri=(ri+1)%roles.length; setTimeout(typeLoop, prefersReduced?0:240); } }
  typeLoop();

  // ===== WebAudio SFX (coin, jump, power-up) =====
  let audioCtx, masterGain, sfxOn=false;
  function ensureAudio(){ if(audioCtx) return true; try{ audioCtx=new (window.AudioContext||window.webkitAudioContext)(); masterGain=audioCtx.createGain(); masterGain.gain.value=.22; masterGain.connect(audioCtx.destination); return true; }catch(e){ return false; } }
  async function resumeAudio(){ try{ if(!audioCtx) ensureAudio(); if(audioCtx && audioCtx.state==='suspended') await audioCtx.resume(); }catch{} }
  document.addEventListener('pointerdown', async ()=>{ ensureAudio(); await resumeAudio(); }, { once:true });

  function beep({f=880, type='square', d=.08, g=.22}){ if(!sfxOn || !audioCtx) return; const o=audioCtx.createOscillator(); const gn=audioCtx.createGain(); o.type=type; o.frequency.value=f; gn.gain.value=.0001; o.connect(gn); gn.connect(masterGain); const t=audioCtx.currentTime; gn.gain.exponentialRampToValueAtTime(g, t+.01); gn.gain.exponentialRampToValueAtTime(.0001, t+d); o.start(); o.stop(t+d+.02); }
  function sfxCoin(){ beep({f:1320,d:.06}); setTimeout(()=>beep({f:1760,d:.08}),40); }
  function sfxJump(){ beep({f:330,d:.06}); setTimeout(()=>beep({f:660,d:.08}),50); }
  function sfxPowerUp(){ beep({f:880,d:.06}); setTimeout(()=>beep({f:1175,d:.06}),70); setTimeout(()=>beep({f:1567,d:.1}),140); }
  const sfxToggle=$('#sfxToggle'); sfxToggle?.addEventListener('click', async ()=>{ ensureAudio(); await resumeAudio(); sfxOn=!sfxOn; sfxToggle.innerHTML = sfxOn? '<i class="fa-solid fa-volume-high"></i> SFX':'<i class="fa-solid fa-volume-xmark"></i> SFX'; if(sfxOn) sfxPowerUp(); });

  // ===== Coins system =====
  const coinCountEl = $('#coinCount'); let coins = Number(localStorage.getItem('coins')||0); coinCountEl.textContent = coins;
  function addCoin(n=1){ coins += n; localStorage.setItem('coins', coins); coinCountEl.textContent = coins; if(sfxOn) sfxCoin(); }
  // award a coin for meaningful clicks
  document.addEventListener('click', e=>{
    const a = e.target.closest('a,button');
    if(!a) return;
    // ignore palette/lab close buttons etc.
    if(a.id==='palClose' || a.id==='dialogClose') return;
    if(a.classList.contains('menu-btn')) return;
    if(a.classList.contains('filter-btn') || a.classList.contains('btn') || a.classList.contains('nav-link') || a.classList.contains('quick-view')) addCoin(1);
  });

  // ===== Nav smooth + active + warp =====
  const navLinks=$$('#navLinks a'), warp=$('#warp');
  function doWarp(){ if(!prefersReduced){ warp.classList.remove('active'); void warp.offsetWidth; warp.classList.add('active'); if(sfxOn) sfxJump(); } }
  navLinks.forEach(a=> a.addEventListener('click',ev=>{ ev.preventDefault(); const t=document.querySelector(a.getAttribute('href')); if(!t) return; const y=t.getBoundingClientRect().top+scrollY-((parseInt(getComputedStyle(document.documentElement).getPropertyValue('--nav-height')))||72)+8; doWarp(); scrollTo({top:y, behavior:'smooth'}); mobileMenu && (mobileMenu.style.display='none'); }));
  if('IntersectionObserver' in window){ const secObserver = new IntersectionObserver((entries)=> entries.forEach(e=>{ if(e.isIntersecting){ const id=e.target.id; navLinks.forEach(a=> a.classList.toggle('active', a.getAttribute('href')==='#'+id)); }}), {threshold:.35}); document.querySelectorAll('main section[id]').forEach(s=> secObserver.observe(s)); }

  // ===== Scroll progress + back-to-top =====
  const backTop=$('#backTop'), scrollProgress=$('#scrollProgress');
  addEventListener('scroll', ()=>{ const sc=scrollY; backTop.style.display = sc>innerHeight ? 'inline-flex' : 'none'; const docH=document.documentElement.scrollHeight-innerHeight; const pct=Math.max(0, Math.min(1, sc/(docH||1))); if(scrollProgress) scrollProgress.style.width=(pct*100).toFixed(2)+'%'; });
  backTop?.addEventListener('click', ()=> scrollTo({ top:0, behavior:'smooth' }));

  // ===== Copy email =====
  $('#copyEmail')?.addEventListener('click', async ()=>{ try{ await navigator.clipboard.writeText('ayushkatiya@gmail.com'); if(sfxOn) sfxCoin(); }catch{} });

  // ===== Filters + deep link =====
  const filterBtns=$$('.filter-btn'); const projectCards=$$('#projectGrid .card');
  function applyFilter(tag){ filterBtns.forEach(b=> b.classList.toggle('active', b.dataset.filter===tag || (tag==='all'&&b.dataset.filter==='all'))); projectCards.forEach(card=>{ const tags=(card.getAttribute('data-tags')||'').split(',').map(s=>s.trim()); const show=tag==='all'||tags.includes(tag); card.style.display=show?'':'none'; }); }
  filterBtns.forEach(btn=> btn.addEventListener('click', ()=>{ const tag=btn.dataset.filter; applyFilter(tag); history.replaceState({},'', '#projects?tag='+encodeURIComponent(tag)); if(sfxOn) sfxJump(); }));
  if(location.hash.startsWith('#projects')&&location.hash.includes('tag=')){ const tag=decodeURIComponent(location.hash.split('tag=')[1]||'all'); applyFilter(tag); }

  // ===== Quick view dialog =====
  const dlg=$('#projectDialog'), dlgClose=$('#dialogClose');
  $$('.quick-view').forEach(btn=> btn.addEventListener('click', ()=>{ const card=btn.closest('.card'); if(!card||!dlg) return; $('#dialogTitle').textContent=card.dataset.title||'Project'; $('#dialogImg').src=card.dataset.img||card.querySelector('img')?.src||''; $('#dialogImg').alt=(card.dataset.title||'Project')+' preview'; $('#dialogDesc').textContent=card.dataset.desc||card.querySelector('p')?.textContent||''; $('#dialogGithub').href=card.dataset.github||'#'; dlg.showModal(); if(sfxOn) sfxPowerUp(); }));
  dlgClose?.addEventListener('click', ()=> dlg?.close());
  dlg?.addEventListener('click', e=>{ if(e.target===dlg) dlg.close(); });

  // ===== Counters =====
  const counters=$$('[data-counter]');
  if('IntersectionObserver' in window){ const ctrIO=new IntersectionObserver((entries)=> entries.forEach(en=>{ if(en.isIntersecting){ const el=en.target; const goal=Number(el.getAttribute('data-counter'))||Number(el.textContent)||0; const start=performance.now(); const dur=900; const step=(t)=>{ const p=Math.min(1,(t-start)/dur); el.textContent=Math.round(goal*p); if(p<1) requestAnimationFrame(step); }; requestAnimationFrame(step); ctrIO.unobserve(el);} }),{threshold:.6}); counters.forEach(c=> ctrIO.observe(c)); }

  // ===== Contact form =====
  const FORM_ENDPOINT=''; const contactForm=$('#contactForm'), formStatus=$('#formStatus');
  contactForm?.addEventListener('submit', async e=>{ e.preventDefault(); if($('#website')?.value){ formStatus.textContent='Detected as bot.'; return; } formStatus.textContent='Sending...'; const fd=new FormData(contactForm); const payload=Object.fromEntries(fd.entries()); try{ if(FORM_ENDPOINT&&FORM_ENDPOINT.trim().length){ const res=await fetch(FORM_ENDPOINT,{method:'POST', headers:{'Accept':'application/json'}, body:fd}); formStatus.textContent=res.ok?'Message sent — thank you!':'Unable to send (Formspree). Try email below.'; if(res.ok) contactForm.reset(); } else { const subject=encodeURIComponent(`Portfolio message from ${payload.name||'Visitor'}`); const body=encodeURIComponent(`Name: ${payload.name||''}\nEmail: ${payload.email||''}\n\nMessage:\n${payload.message||''}`); location.href=`mailto:ayushkatiya@gmail.com?subject=${subject}&body=${body}`; formStatus.textContent='Opening your mail app...'; } }catch(err){ console.error(err); formStatus.textContent='Transmission error. Try again or email directly.'; } finally{ setTimeout(()=> formStatus.textContent='', 5000); } });

  // ===== Intro overlay =====
  const intro=$('#introOverlay'), playIntro=$('#playIntro'), startCourse=$('#startCourse'), skipCourse=$('#skipCourse');
  playIntro?.addEventListener('click', ()=>{ intro.classList.add('active'); if(sfxOn) sfxPowerUp(); });
  startCourse?.addEventListener('click', ()=>{ intro.classList.remove('active'); if(sfxOn) sfxJump(); });
  skipCourse?.addEventListener('click',  ()=>{ intro.classList.remove('active'); });

  // ===== Command Palette =====
  const palette=$('#palette'), palInput=$('#palInput'), palList=$('#palList'), palClose=$('#palClose'), openPalette=$('#openPalette');
  const items = [
    ...$$('main section[id]').map(s => ({ type:'section', id:s.id, title:s.querySelector('h2')?.textContent?.trim()||s.id, href:'#'+s.id })),
    ...$$('#projectGrid .card').map((c,i)=>({ type:'project', id:'p'+i, title:c.dataset.title||c.querySelector('h3')?.textContent?.trim()||'Project', tags:(c.dataset.tags||''), href:'#projects', filterTag:c.dataset.tags?.split(',')[0]||'all' }))
  ];
  function openPal(){ palette.classList.add('show'); palInput.value=''; renderList(items); palInput.focus(); }
  function closePal(){ palette.classList.remove('show'); }
  function score(q, s){ q=q.toLowerCase(); s=s.toLowerCase(); if(!q) return 1; const i=s.indexOf(q); if(i===0) return 3; if(i>0) return 2; let qi=0; for(let si=0; si<s.length && qi<q.length; si++){ if(s[si]===q[qi]) qi++; } return qi===q.length ? 1.5 : 0; }
  function highlight(q, s){ if(!q) return s; const idx=s.toLowerCase().indexOf(q.toLowerCase()); if(idx<0) return s; return s.slice(0,idx)+'<b>'+s.slice(idx, idx+q.length)+'</b>'+s.slice(idx+q.length); }
  function renderList(list){ palList.innerHTML=''; list.slice(0,50).forEach((it, i)=>{ const div=document.createElement('div'); div.className='pal-item'; div.setAttribute('role','option'); div.setAttribute('aria-selected', String(i===0)); div.dataset.href=it.href; div.dataset.filter=it.filterTag||''; div.innerHTML = (it.type==='project' ? '<i class="fa-solid fa-rocket"></i>' : '<i class="fa-solid fa-section"></i>') + ' ' + (it._hl || it.title); palList.appendChild(div); }); }
  palInput.addEventListener('input', ()=>{ const q=palInput.value.trim(); const scored=items.map(it=>({ ...it, _score: score(q, it.title + ' ' + (it.tags||'')), _hl: highlight(q, it.title) })).filter(x=>x._score>0).sort((a,b)=> b._score-a._score); renderList(scored); });
  palList.addEventListener('click', e=>{ const row=e.target.closest('.pal-item'); if(!row) return; doWarp(); if(row.dataset.filter){ applyFilter(row.dataset.filter); location.hash = '#projects?tag='+encodeURIComponent(row.dataset.filter); } else { location.hash = row.dataset.href; } closePal(); });
  let sel=0; function updateSel(n){ const rows=[...palList.children]; if(!rows.length) return; rows.forEach(r=> r.setAttribute('aria-selected','false')); sel=(n+rows.length)%rows.length; rows[sel].setAttribute('aria-selected','true'); rows[sel].scrollIntoView({block:'nearest'}); }
  addEventListener('keydown', (e)=>{ const mod=e.ctrlKey||e.metaKey; if(mod && e.key.toLowerCase()==='k'){ e.preventDefault(); palette.classList.contains('show')? closePal(): openPal(); } if(palette.classList.contains('show')){ if(e.key==='Escape'){ closePal(); } if(e.key==='ArrowDown'){ e.preventDefault(); updateSel(sel+1); } if(e.key==='ArrowUp'){ e.preventDefault(); updateSel(sel-1); } if(e.key==='Enter'){ e.preventDefault(); palList.children[sel]?.click(); } }});
  palClose.addEventListener('click', closePal);

  // ===== Tiny PWA (optional) =====
  const enableOfflineBtn=$('#enableOffline');
  enableOfflineBtn?.addEventListener('click', ()=>{
    if(!('serviceWorker' in navigator)) { alert('Service Worker not supported in this browser.'); return; }
    const swCode = `
      const CACHE='ak-portfolio-mario-v1';
      const ASSETS=['./','index.html','assets/profile.jpg','assets/project1.png','assets/project2.png','assets/project3.png','assets/project4.png','assets/project5.png','assets/project6.png','assets/project7.png','resume.pdf'];
      self.addEventListener('install',e=>{ e.waitUntil(caches.open(CACHE).then(c=>c.addAll(ASSETS)).then(()=>self.skipWaiting())); });
      self.addEventListener('activate',e=>{ e.waitUntil(caches.keys().then(keys=>Promise.all(keys.filter(k=>k!==CACHE).map(k=>caches.delete(k))))); self.clients.claim(); });
      self.addEventListener('fetch',e=>{
        const req=e.request;
        if(req.method!=='GET') return;
        e.respondWith( caches.match(req).then(c=> c || fetch(req).then(res=> {
          const copy=res.clone();
          caches.open(CACHE).then(cache=> cache.put(req, copy)).catch(()=>{});
          return res;
        }).catch(()=> caches.match('./')) ) );
      });
    `;
    const blob = new Blob([swCode], {type:'text/javascript'});
    const swUrl = URL.createObjectURL(blob);
    navigator.serviceWorker.register(swUrl).then(()=>{ enableOfflineBtn.textContent='Offline ✓'; if(sfxOn) sfxPowerUp(); setTimeout(()=> URL.revokeObjectURL(swUrl), 1000); }).catch(()=> alert('Failed to register offline cache'));
  });
  </script>
</body>
</html>
